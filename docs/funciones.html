<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>funciones.knit</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/clipboard-2.0.6/clipboard.min.js"></script>
<link href="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="extra.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R avanzado</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Manuales
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="fundamentos_de_r.html">Fundamentos de R</a>
    </li>
    <li>
      <a href="reportes_dinamicos_con_rmarkdown.html">Reportes dinámicos con Rmarkdown</a>
    </li>
    <li>
      <a href="funciones.html">Funciones</a>
    </li>
    <li>
      <a href="modelos_de_regresion_lineal.html">Modelos de regresión lineal</a>
    </li>
    <li>
      <a href="stadistica_tradicional_en_regresiones.html">Modelos comunes como regresiones</a>
    </li>
    <li>
      <a href="graficos_con_ggplot2.html">Gráficos con ggplot2</a>
    </li>
  </ul>
</li>
<li>
  <a href="preparacion_curso.html">Preparación para el curso</a>
</li>
<li>
  <a href="https://codefile.io/f/XOIzH23KfULuZKyZ1TYT">Compartir código</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tareas
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Tarea 4</li>
    <li class="dropdown-header">Tarea 5</li>
  </ul>
</li>
<li>
  <a href="https://github.com/maRce10/ucr_r_avanzado/raw/master/additional_files/2022-08-05_Probl%20Esp%20Ecol_Estadistica%20Avanzada%20en%20R.pdf">Programa del curso</a>
</li>
<li>
  <a href="instructor.html">Instructor</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore"><center>
<font size="7"><b>Funciones</b></font>
</center></h1>
<h3 class="subtitle"><center>
<font size="5"><b>Programación y métodos estadísticos avanzados en
R</b></b></font>
</center></h3>
<h4 class="author"><center>
<font size="5"><a href="http://marceloarayasalas.weebly.com/">Marcelo
Araya-Salas, PhD</a></font>
</center></h4>
<h4 class="date"><center>
“2022-09-25”
</center></h4>

</div>


<style>
body
  { counter-reset: source-line 0; }
pre.numberSource code
  { counter-reset: none; }
</style>
<p> </p>
<!-- skyblue box -->
<div id="objetivo-del-manual" class="section level1 alert alert-info">
<h1>Objetivo del manual</h1>
<ul>
<li><p>Identificar los elementos básicos que componen una
función</p></li>
<li><p>Comprender las características de los principales tipos de
argumentos en las funciones</p></li>
<li><p>Ser capaz de construir funciones propias</p></li>
</ul>
</div>
<p> </p>
<div id="funciones-en-r" class="section level1">
<h1>Funciones en R</h1>
<ul>
<li><p>Todo lo que sucede en <code>R</code> es una llamada de una
función (i.e. las manipulaciones y cálculos de objetos en <code>R</code>
se realizan a través de una función)</p></li>
<li><p>Una función es una subrutina que tiene como objetivo realizar una
tarea específica</p></li>
<li><p>Permite a los usuarios juntar bloques de código que se usan con
frecuencia y, por lo tanto, resulta conveniente encapsular en un objeto
que se puede llamar fácilmente cuando sea necesario</p></li>
<li><p>Las funciones cargadas desde los paquetes (incluido
<code>R</code> básico) también se pueden modificar y
sobrescribir</p></li>
</ul>
<p> </p>
<hr />
</div>
<div id="estructura-básica" class="section level1">
<h1>Estructura básica</h1>
<p>Todas las funciones son creadas iguales … mediante la función
<code>function()</code> y siguen la misma estructura:</p>
<p><img src="images/funcion.png" width="100%" style="display: block; margin: auto;" /></p>
<p><font size="2">* Modificado de <i>Grolemund 2014</i></font></p>
<p> </p>
<p>Podemos observar la estructura de funciones ya cargadas en nuestro
entorno de <code>R</code>. Para ver el código simplemente corra al
nombre de la función en <code>R</code> (sin el paréntesis). Por ejemplo,
el código de la función <code>sd()</code> se puede mostrar de la
siguiente manera:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>sd</span></code></pre></div>
<pre><code>## function (x, na.rm = FALSE) 
## sqrt(var(if (is.vector(x) || is.factor(x)) x else as.double(x), 
##     na.rm = na.rm))
## &lt;bytecode: 0x5571bf1ceda8&gt;
## &lt;environment: namespace:stats&gt;</code></pre>
<p> </p>
<p>En <code>Rstudio</code>, el código también se puede mostrar usando
<em>F2</em> cuando el cursor está en el nombre de la función.</p>
<p> </p>
<p>Además, podemos diseccionar las funciones en sus elementos
básicos:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># cuerpo</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">body</span>(sd)</span></code></pre></div>
<pre><code>## sqrt(var(if (is.vector(x) || is.factor(x)) x else as.double(x), 
##     na.rm = na.rm))</code></pre>
<div class="sourceCode" id="cb5"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># argumentos</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">formals</span>(sd)</span></code></pre></div>
<pre><code>## $x
## 
## 
## $na.rm
## [1] FALSE</code></pre>
<div class="sourceCode" id="cb7"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># ambiente</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">environment</span>(sd)</span></code></pre></div>
<pre><code>## &lt;environment: namespace:stats&gt;</code></pre>
<p> </p>
<p>Algunas funciones <code>R</code> utilizan funciones primitivas
(principalmente escritas en <code>C</code>). En estos casos, el código
no se muestra:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>sum</span></code></pre></div>
<pre><code>## function (..., na.rm = FALSE)  .Primitive(&quot;sum&quot;)</code></pre>
<div class="sourceCode" id="cb11"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">body</span>(sum)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb13"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">formals</span>(sum)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb15"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">environment</span>(sum)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p> </p>
<p>Las funciones son en sí mismas un tipo específico de objeto:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">class</span>(sd)</span></code></pre></div>
<pre><code>## [1] &quot;function&quot;</code></pre>
<p> </p>
<p>Los operadores son funciones:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb21"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb23"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb25"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p> </p>
<hr />
<div id="nombre" class="section level2">
<h2>Nombre</h2>
<p><img src="images/nombre.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Los nombres de las funciones tienen pocas restricciones. Siguen las
mismas reglas que otros objetos en <code>R</code>. Algunas
recomendaciones/reglas:</p>
<ul>
<li><p>No utilice nombres de objetos comunes <code>R</code> (por
ejemplo, <em>iris</em>, <em>x</em>) u objetos que ya están en el
entorno</p></li>
<li><p>No use nombres de funciones de uso frecuente (por ejemplo,
<code>mean</code>)</p></li>
<li><p>No puede comenzar con un número</p></li>
<li><p>Debería sugerir lo que hace</p></li>
<li><p>No debe ser muy largo</p></li>
</ul>
<p>En caso de que tenga varias funciones con el mismo nombre, puede
llamarlas individualmente utilizando el nombre del paquete (o
<em>namespace</em>) seguido de <code>::</code>:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># crear funcion sd</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>sd <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span></span>
<span id="cb27-3"><a href="#cb27-3"></a></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co"># no calcula desv. st.</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1]       1    1024   59049 1048576 9765625</code></pre>
<div class="sourceCode" id="cb29"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># sd</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>stats<span class="sc">::</span><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1.581139</code></pre>
<div class="sourceCode" id="cb31"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># remover nueva sd</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">rm</span>(sd)</span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co"># usar de nuevo</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="fu">sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1.581139</code></pre>
<p> </p>
<p>La sintaxis <code>namespace::function</code> también se puede usar
para llamar a funciones desde paquetes que se han instalado pero que no
están cargados en el entorno actual.</p>
<p> </p>
<p>Las funciones pueden ser anónimas:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>(<span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span>)(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1]       1    1024   59049 1048576 9765625</code></pre>
<p> </p>
<p>Esto es más útil cuando se usan las funciones
<code>Xapply</code>:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb35-2"><a href="#cb35-2"></a></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="fu">lapply</span>(l, <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1]       1    1024   59049 1048576 9765625
## 
## [[2]]
## [1]       1    1024   59049 1048576
## 
## [[3]]
## [1]     1  1024 59049</code></pre>
<hr />
</div>
<div id="argumentos" class="section level2">
<h2>Argumentos</h2>
<p><img src="images/argumentos.png" width="100%" style="display: block; margin: auto;" /></p>
<p> </p>
<p>Permiten a los usuarios ingresar objetos en la función. Los
argumentos pueden o no tener valores predeterminados. Cuando los
argumentos tienen valores predeterminados, no es necesario
proporcionarlos:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">y =</span> <span class="dv">2</span>) x <span class="sc">+</span> y</span>
<span id="cb37-2"><a href="#cb37-2"></a></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="fu">f1</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p> </p>
<p>Por supuesto, se pueden modificar:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">f1</span>(<span class="dv">3</span>, <span class="dv">4</span>)</span></code></pre></div>
<p> </p>
<p>Los argumentos sin valor predeterminado deben ser proporcionados:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">f1</span>()</span></code></pre></div>
<pre><code>## Error in f1(): el argumento &quot;x&quot; está ausente, sin valor por omisión</code></pre>
<p> </p>
<p>Si todos los argumentos tienen un valor predeterminado, se puede
invocar la función sin proporcionar ningún argumento:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">y =</span> <span class="dv">2</span>) x <span class="sc">+</span> y</span>
<span id="cb42-2"><a href="#cb42-2"></a></span>
<span id="cb42-3"><a href="#cb42-3"></a><span class="fu">f1</span>()</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p> </p>
<p>Ese es el caso de <code>dev.off()</code> y
<code>Sys.time()</code>:</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">Sys.time</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2022-09-25 21:37:50 CST&quot;</code></pre>
<p> </p>
<p>Los argumentos pueden especificarse implícitamente por posición o por
nombres incompletos:</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(a1, b1, b2) {</span>
<span id="cb46-2"><a href="#cb46-2"></a>    <span class="fu">list</span>(<span class="at">a1 =</span> a1, <span class="at">b1 =</span> b1, <span class="at">b2 =</span> b2)</span>
<span id="cb46-3"><a href="#cb46-3"></a>}</span>
<span id="cb46-4"><a href="#cb46-4"></a></span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="co"># por posicion</span></span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## List of 3
##  $ a1: num 1
##  $ b1: num 2
##  $ b2: num 3</code></pre>
<div class="sourceCode" id="cb48"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># por posicion y nombre</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## List of 3
##  $ a1: num 1
##  $ b1: num 2
##  $ b2: num 3</code></pre>
<div class="sourceCode" id="cb50"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="at">a =</span> <span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## List of 3
##  $ a1: num 2
##  $ b1: num 1
##  $ b2: num 3</code></pre>
<div class="sourceCode" id="cb52"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="at">a =</span> <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## List of 3
##  $ a1: num 3
##  $ b1: num 1
##  $ b2: num 2</code></pre>
<div class="sourceCode" id="cb54"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># por posicion y nombre parcial</span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="fu">str</span>(<span class="fu">f2</span>(<span class="dv">1</span>, <span class="at">a =</span> <span class="dv">2</span>, <span class="at">b1 =</span> <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## List of 3
##  $ a1: num 2
##  $ b1: num 3
##  $ b2: num 1</code></pre>
<p> </p>
<p>Sin embargo, esto no funciona si los nombres son ambiguos:</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">f2</span>(<span class="at">b =</span> <span class="dv">1</span>, <span class="dv">2</span>, <span class="at">a =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## Error in f2(b = 1, 2, a = 3): el argumento 1 concuerda con multiples argumentos formales</code></pre>
<p> </p>
<p>Es más seguro (y, por lo tanto, una mejor práctica) usar los nombres
completos de los argumentos.</p>
<p> </p>
<p>Las funciones también pueden tomar argumentos lógicos. Estos son
útiles para modificar el comportamiento de la función para que coincida
con diferentes escenarios. Por ejemplo, <code>mean()</code> permite a
los usuarios ignorar los <em>NA</em>:</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>)</span>
<span id="cb58-2"><a href="#cb58-2"></a></span>
<span id="cb58-3"><a href="#cb58-3"></a><span class="co"># sin ignorar NAs</span></span>
<span id="cb58-4"><a href="#cb58-4"></a><span class="fu">mean</span>(v1, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb60"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># ignorando NAs</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="fu">mean</span>(v1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p> </p>
</div>
<div id="ejercicio-1" class="section level2 alert alert-info">
<h2>Ejercicio 1</h2>
<p></br></p>
<p>1.1 ¿Qué hace la función <code>cor.test()</code>?</p>
<p></br></p>
<p>1.2 Úsela con “Sepal.Length” y “Sepal.Width” de los datos de ejemplo
<em>iris</em> (use <code>data(iris)</code>)</p>
<p></br></p>
<p>1.3 ¿Qué argumentos deben proporcionarse?</p>
<p></br></p>
<p>1.4 ¿Qué hace el argumento <em>alternative</em>? Use diferentes
valores para este argumento y compare los resultados</p>
<p></br></p>
<p>1.5 ¿Cómo se puede calcular la correlación de Spearman?</p>
<p></br></p>
<p>1.6 ¿Qué tipo de objeto devuelve esta función?</p>
<p></br></p>
<p>1.7 ¿Cómo puede obtener el valor de <strong>p</strong> directamente
del resultado de la función (sin guardar el resultado como un
objeto)?</p>
<p></br></p>
<p>1.8 Escoga una función de R y lea su documentación con el fin de
entender su uso, cada uno de sus argumentos (y que tipo de objetos
requieren) y el resultado que produce (es probable que se le pida que
explique esto al grupo)</p>
</div>
<hr />
<div id="cuerpo" class="section level2">
<h2>Cuerpo</h2>
<p><img src="images/cuerpo.png" width="100%" style="display: block; margin: auto;" /></p>
<p> </p>
<p>El cuerpo de una función puede contener:</p>
<ul>
<li><p>Comprobación de argumentos</p></li>
<li><p>Manipulación de datos</p></li>
<li><p>Definición de resultados</p></li>
</ul>
<p> </p>
<p>El cuerpo de la función puede tomar el mismo tipo de código utilizado
en cualquier rutina de <code>R</code>. Sin embargo, los objetos creados
no estarán disponibles en el entorno.</p>
<p>Cuando se realizan varios cálculos, debemos incluir una
<em>declaración de retorno</em> (return statement), que define
explícitamente la salida de la función. Esto se hace usando la función
<code>return()</code>:</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># sin &#39;return statement&#39;</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb62-3"><a href="#cb62-3"></a></span>
<span id="cb62-4"><a href="#cb62-4"></a>    z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb62-5"><a href="#cb62-5"></a>    z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb62-6"><a href="#cb62-6"></a>    z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb62-7"><a href="#cb62-7"></a>    z4 <span class="ot">&lt;-</span> x<span class="sc">/</span>y</span>
<span id="cb62-8"><a href="#cb62-8"></a>}</span>
<span id="cb62-9"><a href="#cb62-9"></a></span>
<span id="cb62-10"><a href="#cb62-10"></a><span class="fu">f1</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb62-11"><a href="#cb62-11"></a></span>
<span id="cb62-12"><a href="#cb62-12"></a>f1_out <span class="ot">&lt;-</span> <span class="fu">f1</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb62-13"><a href="#cb62-13"></a></span>
<span id="cb62-14"><a href="#cb62-14"></a>f1_out</span></code></pre></div>
<pre><code>## [1] 1.666667</code></pre>
<div class="sourceCode" id="cb64"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># con &#39;return statement&#39;</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb64-3"><a href="#cb64-3"></a></span>
<span id="cb64-4"><a href="#cb64-4"></a>    z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb64-5"><a href="#cb64-5"></a>    z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb64-6"><a href="#cb64-6"></a>    z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb64-7"><a href="#cb64-7"></a>    z4 <span class="ot">&lt;-</span> x<span class="sc">/</span>y</span>
<span id="cb64-8"><a href="#cb64-8"></a></span>
<span id="cb64-9"><a href="#cb64-9"></a>    <span class="fu">return</span>(<span class="fu">c</span>(z1, z2, z3, z4))</span>
<span id="cb64-10"><a href="#cb64-10"></a></span>
<span id="cb64-11"><a href="#cb64-11"></a>}</span>
<span id="cb64-12"><a href="#cb64-12"></a></span>
<span id="cb64-13"><a href="#cb64-13"></a><span class="fu">f2</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 13.000000 11.000000 16.000000  1.666667</code></pre>
<div class="sourceCode" id="cb66"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>f2_out <span class="ot">&lt;-</span> <span class="fu">f2</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb66-2"><a href="#cb66-2"></a></span>
<span id="cb66-3"><a href="#cb66-3"></a>f2_out</span></code></pre></div>
<pre><code>## [1] 13.000000 11.000000 16.000000  1.666667</code></pre>
<p> </p>
<p>Por lo tanto, cuando no se proporciona una <em>declaración de
retorno</em>, la función devolverá el último objeto que se creó en el
cuerpo de la función:</p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># sin &#39;return statement&#39;</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>f3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb68-3"><a href="#cb68-3"></a></span>
<span id="cb68-4"><a href="#cb68-4"></a>    z1 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> y</span>
<span id="cb68-5"><a href="#cb68-5"></a>    z2 <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb68-6"><a href="#cb68-6"></a>    z3 <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> y</span>
<span id="cb68-7"><a href="#cb68-7"></a>    z4 <span class="ot">&lt;-</span> x<span class="sc">/</span>y</span>
<span id="cb68-8"><a href="#cb68-8"></a></span>
<span id="cb68-9"><a href="#cb68-9"></a>    <span class="fu">c</span>(z1, z2, z3, z4)</span>
<span id="cb68-10"><a href="#cb68-10"></a></span>
<span id="cb68-11"><a href="#cb68-11"></a>}</span>
<span id="cb68-12"><a href="#cb68-12"></a></span>
<span id="cb68-13"><a href="#cb68-13"></a><span class="fu">f3</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 13.000000 11.000000 16.000000  1.666667</code></pre>
<div class="sourceCode" id="cb70"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>f3_out <span class="ot">&lt;-</span> <span class="fu">f3</span>(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb70-2"><a href="#cb70-2"></a></span>
<span id="cb70-3"><a href="#cb70-3"></a>f3_out</span></code></pre></div>
<pre><code>## [1] 13.000000 11.000000 16.000000  1.666667</code></pre>
<p> </p>
<p>Es más seguro usar <code>return()</code>.</p>
<p> </p>
<p>Cuando una función realiza varias tareas, podemos usar una lista para
juntar los diferentes objetos. Esto es particularmente útil cuando se
generan objetos de diferentes clases (por ejemplo, vectores y
listas):</p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>f4 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb72-2"><a href="#cb72-2"></a></span>
<span id="cb72-3"><a href="#cb72-3"></a>    <span class="co"># 1 elemento</span></span>
<span id="cb72-4"><a href="#cb72-4"></a>    z1 <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb72-5"><a href="#cb72-5"></a></span>
<span id="cb72-6"><a href="#cb72-6"></a>    <span class="co"># 2 elementos</span></span>
<span id="cb72-7"><a href="#cb72-7"></a>    z2 <span class="ot">&lt;-</span> <span class="fu">c</span>(x, y<span class="sc">/</span><span class="dv">3</span>)</span>
<span id="cb72-8"><a href="#cb72-8"></a></span>
<span id="cb72-9"><a href="#cb72-9"></a>    <span class="co"># vector logico</span></span>
<span id="cb72-10"><a href="#cb72-10"></a>    z3 <span class="ot">&lt;-</span> z2 <span class="sc">&lt;</span> <span class="dv">10</span></span>
<span id="cb72-11"><a href="#cb72-11"></a></span>
<span id="cb72-12"><a href="#cb72-12"></a>    l <span class="ot">&lt;-</span> <span class="fu">list</span>(z1, z2, z3)</span>
<span id="cb72-13"><a href="#cb72-13"></a></span>
<span id="cb72-14"><a href="#cb72-14"></a>    <span class="fu">return</span>(l)</span>
<span id="cb72-15"><a href="#cb72-15"></a>}</span>
<span id="cb72-16"><a href="#cb72-16"></a></span>
<span id="cb72-17"><a href="#cb72-17"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 15
## 
## [[2]]
## [1] 10.000000  1.666667
## 
## [[3]]
## [1] FALSE  TRUE</code></pre>
<p> </p>
<p>Podemos acceder a elementos específicos de la salida de una función
mediante indexación:</p>
<div class="sourceCode" id="cb74"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="co"># elemento 1</span></span>
<span id="cb74-2"><a href="#cb74-2"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<div class="sourceCode" id="cb76"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="co"># elemento 2</span></span>
<span id="cb76-2"><a href="#cb76-2"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] 10.000000  1.666667</code></pre>
<div class="sourceCode" id="cb78"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="co"># elemento 3</span></span>
<span id="cb78-2"><a href="#cb78-2"></a><span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)[[<span class="dv">3</span>]]</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<p> </p>
<p>Por supuesto, también podemos guardar el resultado como un objeto y
acceder a cada elemento mediante la indexación:</p>
<div class="sourceCode" id="cb80"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="co"># elemento 1</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>out <span class="ot">&lt;-</span> <span class="fu">f4</span>(<span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb80-3"><a href="#cb80-3"></a></span>
<span id="cb80-4"><a href="#cb80-4"></a><span class="co"># elemento 1</span></span>
<span id="cb80-5"><a href="#cb80-5"></a>out[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 15</code></pre>
<div class="sourceCode" id="cb82"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="co"># elemento 2</span></span>
<span id="cb82-2"><a href="#cb82-2"></a>out[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] 10.000000  1.666667</code></pre>
<p> </p>
</div>
<div id="ejercicio-2" class="section level2 alert alert-info">
<h2>Ejercicio 2</h2>
<p></br></p>
<p>2.1 Cree una función llamada <code>promedio</code> que calcule el
promedio de un vector numérico. Internamente solo puede utilizar los
operadores algebraicos <code>+</code> y <code>/</code> (suma y división,
no puede llamar la función <code>mean()</code>)</p>
<p></br></p>
<p>2.2 Cree una función que tome 2 argumentos numéricos (llámelos ‘x’ y
‘y’), eleve cada uno al cuadrado y luego los sume</p>
<p></br></p>
<p>2.3 Agregue valores predeterminados a cada argumento</p>
<p></br></p>
<p>2.4 Ejecute la función usando los valores predeterminados</p>
<p></br></p>
<p>2.5 Ejecute la función usando un valor predeterminado y uno
proporcionado en la llamada</p>
<p></br></p>
<p>2.6 Ejecute la función proporcionando ambos valores en la llamada</p>
</div>
<p> </p>
<hr />
</div>
<div id="argumentos-lógicos" class="section level1">
<h1>Argumentos lógicos</h1>
<p>Son argumentos que pueden tomar solo dos valores: <code>TRUE</code> o
<code>FALSE</code>. Estos argumentos permiten modificar el
comportamiento de la función de forma binaria: si es <code>TRUE</code>
llevaría a cabo la tarea 1 y si es <code>FALSE</code> llevaría a cabo la
tarea 2. Internamente (i.e. en el cuerpo de las función) estas funciones
implican el uso del operador <code>if</code>, algunas veces incluyendo
su contra-parte <code>else</code>. Estos operadores son parte
fundamental de la programación y se usan para definir que acción
ejecutar con base en una evaluación lógica:</p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="co"># creemos el objeto a con valor 2</span></span>
<span id="cb84-2"><a href="#cb84-2"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb84-3"><a href="#cb84-3"></a></span>
<span id="cb84-4"><a href="#cb84-4"></a><span class="co"># elevemos a la 2 si a es mayor q 0</span></span>
<span id="cb84-5"><a href="#cb84-5"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) a<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb86"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="co"># elevemos a la 2 si a es mayor q 0 de lo contrario elevemoslo a</span></span>
<span id="cb86-2"><a href="#cb86-2"></a><span class="co"># la 100</span></span>
<span id="cb86-3"><a href="#cb86-3"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) a<span class="sc">^</span><span class="dv">2</span> <span class="cf">else</span> a<span class="sc">^</span><span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb88"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="co"># con a negativo</span></span>
<span id="cb88-2"><a href="#cb88-2"></a>a <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb88-3"><a href="#cb88-3"></a><span class="cf">if</span> (a <span class="sc">&gt;</span> <span class="dv">0</span>) a<span class="sc">^</span><span class="dv">2</span> <span class="cf">else</span> a<span class="sc">^</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] -27</code></pre>
<p> </p>
<p>La parte dentro de los paréntesis justo después de <code>if</code> es
la evaluación lógica.</p>
<p>Estos operadores son utilizados en el cuerpo de la función cuando
esta lleva un argumento lógico. Por ejemplo, la siguiente función
utiliza un argumento lógico para decidir si la operación algebráica a
realizar es una suma o un promedio:</p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>mean_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, <span class="at">prom =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb90-2"><a href="#cb90-2"></a></span>
<span id="cb90-3"><a href="#cb90-3"></a>    <span class="cf">if</span> (prom)</span>
<span id="cb90-4"><a href="#cb90-4"></a>        b <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">c</span>(x, y)) <span class="cf">else</span> b <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">c</span>(x, y))</span>
<span id="cb90-5"><a href="#cb90-5"></a></span>
<span id="cb90-6"><a href="#cb90-6"></a>    <span class="fu">return</span>(b)</span>
<span id="cb90-7"><a href="#cb90-7"></a>}</span></code></pre></div>
<p> </p>
<p>Note que este tipo de argumentos deben tener un valor predeterminado.
Podemos probar la función de la siguiente forma:</p>
<div class="sourceCode" id="cb91"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">mean_sum</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p> </p>
<div id="ejercicio-3" class="section level2 alert alert-info">
<h2>Ejercicio 3</h2>
<p></br></p>
<p>3.1 Cree una función que tome 3 argumentos numéricos, multiplíquelos
y luego calcule el logaritmo natural del resultado (función
<code>log()</code>)</p>
<p></br></p>
<p>3.2 Agregue valores predeterminados a cada argumento</p>
<p></br></p>
<p>3.3 Ejecute la función con uno de los argumentos con un número
negativo. ¿Qué pasa? ¿Por qué?</p>
<p></br></p>
<p>3.4 Agregue un argumento lógico que permita a los usuarios (si lo
desean) convertir los argumentos de entrada a su valor absoluto (usando
la función <code>abs()</code>). Agregue las modificaciones necesarias
para que la función haga los cálculos con y sin valores absolutos.</p>
</div>
<hr />
</div>
<div id="ventajas-de-usar-funciones" class="section level1">
<h1>Ventajas de usar funciones</h1>
<p> </p>
<div id="código-mas-limpio" class="section level2">
<h2>Código mas limpio</h2>
<p>Los objetos creados dentro del cuerpo no están disponibles en el
entorno actual:</p>
<div class="sourceCode" id="cb93"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="co"># primero remover todo los objetos</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb93-3"><a href="#cb93-3"></a></span>
<span id="cb93-4"><a href="#cb93-4"></a>f5 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb93-5"><a href="#cb93-5"></a>    sqr <span class="ot">&lt;-</span> x <span class="sc">*</span> x</span>
<span id="cb93-6"><a href="#cb93-6"></a>    lg_sqr <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb93-7"><a href="#cb93-7"></a>    <span class="fu">return</span>(lg_sqr)</span>
<span id="cb93-8"><a href="#cb93-8"></a>}</span>
<span id="cb93-9"><a href="#cb93-9"></a></span>
<span id="cb93-10"><a href="#cb93-10"></a><span class="fu">f5</span>(<span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] 1.94591</code></pre>
<div class="sourceCode" id="cb95"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="fu">exists</span>(<span class="st">&quot;sqr&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb97"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">exists</span>(<span class="st">&quot;lg_sqr&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p> </p>
<div class="sourceCode" id="cb99"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>x <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>sqr <span class="ot">&lt;-</span> x <span class="sc">*</span> x</span>
<span id="cb99-3"><a href="#cb99-3"></a>lg_sqr <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb99-4"><a href="#cb99-4"></a></span>
<span id="cb99-5"><a href="#cb99-5"></a></span>
<span id="cb99-6"><a href="#cb99-6"></a><span class="fu">exists</span>(<span class="st">&quot;sqr&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb101"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">exists</span>(<span class="st">&quot;lg_sqr&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p> </p>
</div>
<div id="facil-de-correr-y-compartir" class="section level2">
<h2>Facil de correr y compartir</h2>
<p>Se pueden invocar funciones desde archivos de <code>R</code> externos
sin estar definidas en el código actual con la función
<code>source()</code>. En este ejemplo creamos la función
<code>fnctn_X</code>:</p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>fnctn_X <span class="ot">&lt;-</span> <span class="cf">function</span>(sq_mt, vctr) {</span>
<span id="cb103-2"><a href="#cb103-2"></a></span>
<span id="cb103-3"><a href="#cb103-3"></a>    <span class="co"># trasponer matriz y calcular est dev</span></span>
<span id="cb103-4"><a href="#cb103-4"></a>    stp1 <span class="ot">&lt;-</span> <span class="fu">t</span>(sq_mt)</span>
<span id="cb103-5"><a href="#cb103-5"></a>    stp2 <span class="ot">&lt;-</span> vctr <span class="sc">*</span> vctr</span>
<span id="cb103-6"><a href="#cb103-6"></a></span>
<span id="cb103-7"><a href="#cb103-7"></a>    <span class="co"># guardar en lista</span></span>
<span id="cb103-8"><a href="#cb103-8"></a>    rslt <span class="ot">&lt;-</span> <span class="fu">list</span>(stp1, stp2)</span>
<span id="cb103-9"><a href="#cb103-9"></a>    <span class="fu">return</span>(rslt)</span>
<span id="cb103-10"><a href="#cb103-10"></a>}</span>
<span id="cb103-11"><a href="#cb103-11"></a></span>
<span id="cb103-12"><a href="#cb103-12"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [[1]]
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## 
## [[2]]
## [1] 4 9</code></pre>
<p> </p>
<p>Guárde el codigo anterior en un archivo <code>R</code> llamado
‘function_X.R’. Ahora la función se puede cargar usando
<code>source()</code>:</p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="co"># removamosla del ambiente</span></span>
<span id="cb105-2"><a href="#cb105-2"></a><span class="fu">rm</span>(fnctn_X)</span>
<span id="cb105-3"><a href="#cb105-3"></a></span>
<span id="cb105-4"><a href="#cb105-4"></a><span class="co"># cargar funcion</span></span>
<span id="cb105-5"><a href="#cb105-5"></a><span class="fu">source</span>(<span class="st">&quot;function_X.R&quot;</span>)</span>
<span id="cb105-6"><a href="#cb105-6"></a></span>
<span id="cb105-7"><a href="#cb105-7"></a><span class="co"># run it</span></span>
<span id="cb105-8"><a href="#cb105-8"></a><span class="fu">fnctn_X</span>(<span class="at">sq_mt =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)), <span class="at">vctr =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [[1]]
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## 
## [[2]]
## [1] 4 9</code></pre>
<p> </p>
<p>Además, este código se puede compartir fácilmente. Se puede enviar
por correo electrónico o publicar en línea. Incluso se puede cargar
desde repositorios en línea:</p>
<div class="sourceCode" id="cb107"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="co"># remover objetos</span></span>
<span id="cb107-2"><a href="#cb107-2"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb107-3"><a href="#cb107-3"></a></span>
<span id="cb107-4"><a href="#cb107-4"></a><span class="co"># revisar si existe en ambiente actual</span></span>
<span id="cb107-5"><a href="#cb107-5"></a><span class="fu">exists</span>(<span class="st">&quot;fnctn_X&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb109"><pre
class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="co"># cargar desde el internet</span></span>
<span id="cb109-2"><a href="#cb109-2"></a><span class="fu">source</span>(<span class="st">&quot;https://raw.githubusercontent.com/maRce10/ucr_r_avanzado/master/images/function_x.r&quot;</span>)</span>
<span id="cb109-3"><a href="#cb109-3"></a></span>
<span id="cb109-4"><a href="#cb109-4"></a><span class="co"># revisar si existe en ambiente actual</span></span>
<span id="cb109-5"><a href="#cb109-5"></a><span class="fu">exists</span>(<span class="st">&quot;fnctn_X&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p> </p>
</div>
<div id="se-aplica-fácilmente-a-nuevos-objetos" class="section level2">
<h2>Se aplica fácilmente a nuevos objetos</h2>
<p>Esto ya deberia ser obvio a este punto.</p>
</div>
<div id="otros-consejos" class="section level2">
<h2>Otros consejos</h2>
<ul>
<li>Construir funciones cortas:
<ul>
<li>Fácil de leer</li>
<li>Fácil de arreglar y actualizar</li>
<li>Si es demasiado largo, probablemente debería dividirse en varias
funciones</li>
<li>Genera modularidad</li>
</ul></li>
<li>Añadir comentarios a todo el código  </li>
<li>Agregar descripciones a cada uno de los argumentos que toma  </li>
<li>Función de prueba con diferentes valores/escenarios</li>
</ul>
<hr />
<p> </p>
</div>
<div id="ejercicio-4" class="section level2 alert alert-info">
<h2>Ejercicio 4</h2>
<p></br></p>
<p>4.1 Cree una funcion que calcule el promedio, la desviación estandar
y el error estandar de un vector numérico. Estos valores deben ser
devueltos como una lista con nombres.</p>
<p></br></p>
<p>4.2 Permita a los usuarios ignorar los <code>NAs</code> (similar al
argumento <code>na.rm</code> en <code>mean()</code>, pista: añada un
argumento lógico)</p>
<p></br></p>
<p>4.3 Haga que la función además produzca un histograma del vector
númerico proporcionado por el usuario</p>
<p></br></p>
<p>4.4 Haga que la función escoja un color al azar para las barras del
histograma cada vez que se corre (pista:
<code>sample(vector.de.colores)</code>)</p>
<p></br></p>
<p>4.5 Añada un argumento a la función que permita el usuario calcular
la sumatoria (<code>sum()</code>) junto con el resto de las descriptores
estadísticos</p>
<p></br></p>
<p>4.6 Agregue el promedio y la desviación estandar al título del
histograma (pista: use <code>paste()</code>)</p>
<p></br></p>
<p>4.7 Modifique la función para que tambien cree una linea vertical
indicando el promedio del vector numérico proporcionado por el
usuario</p>
<p></br></p>
<p>4.8 Modifique la función para que añada un polígono transparente
sobre el area que cubre el promedio +/- la desviación estandar</p>
</div>
<p> </p>
<hr />
<div id="lecturas-adicionales" class="section level2">
<h2>Lecturas adicionales</h2>
<ul>
<li><p><a href="http://nicercode.github.io/intro/writing-functions.html">
Introduction to R guide to writing functions with information for a
total beginner</a></p></li>
<li><p><a href="https://twitter.com/hadleywickham">Information on
functions for intermediate and advanced users (Hadley
Wickham)</a>.</p></li>
<li><p><a href="http://cran.r-project.org/doc/manuals/R-intro.html#Writing-your-own-R-intro.html#Writing-your-own-functions">The
official R intro material on writing your own functions</a> (ir a
“Writing your own function”)</p></li>
</ul>
<p> </p>
<hr />
</div>
<div id="referencias" class="section level2">
<h2>Referencias</h2>
<ul>
<li>Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for data
science: import, tidy, transform, visualize, and model data</em>. <a
href="http://r4ds.had.co.nz">website</a></li>
</ul>
<hr />
<p><font size="4">Información de la sesión</font></p>
<pre><code>## R version 4.1.1 (2021-08-10)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.2 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
## LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0
## 
## locale:
##  [1] LC_CTYPE=es_ES.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_ES.UTF-8    
##  [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_ES.UTF-8   
##  [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] knitr_1.39          xaringanExtra_0.7.0 emo_0.0.0.9000     
## 
## loaded via a namespace (and not attached):
##  [1] rstudioapi_0.13  magrittr_2.0.3   uuid_1.1-0       R6_2.5.1        
##  [5] rlang_1.0.4      fastmap_1.1.0    fansi_1.0.3      highr_0.9       
##  [9] stringr_1.4.0    tools_4.1.1      xfun_0.31        utf8_1.2.2      
## [13] cli_3.3.0        jquerylib_0.1.4  htmltools_0.5.3  assertthat_0.2.1
## [17] yaml_2.3.5       digest_0.6.29    tibble_3.1.8     lifecycle_1.0.1 
## [21] crayon_1.5.1     formatR_1.12     purrr_0.3.4      sass_0.4.1      
## [25] vctrs_0.4.1      glue_1.6.2       evaluate_0.15    rmarkdown_2.14  
## [29] stringi_1.7.8    compiler_4.1.1   bslib_0.3.1      pillar_1.8.0    
## [33] generics_0.1.2   lubridate_1.8.0  jsonlite_1.8.0   pkgconfig_2.0.3</code></pre>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
